// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.924
package core

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"github.com/SimonSchneider/pefigo/internal/ui"
)

func PageDashboard(view *DashboardView) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = Layout("/", DashboardMainContent(view)).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func DashboardMainContent(view *DashboardView) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<main class=\"flex-1 flex flex-col\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = Header("Dashboard").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<div class=\"flex-1 p-6 overflow-auto bg-base-100\"><script src=\"/static/public/echarts.min.js\"></script><div class=\"flex flex-row flex-wrap gap-4 mb-6\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = StatCard("Net Worth", ui.FormatWithThousands(view.TotalBalance), "Current net worth", IconTrendingUp("w-10 h-10")).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = StatCard("Total Assets", ui.FormatWithThousands(view.TotalAssets), "Total assets", IconTrendingUp("w-10 h-10 text-success")).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = StatCard("Total Liabilities", ui.FormatWithThousands(view.TotalLiabilities), "Total liabilities", IconTrendingDown("w-10 h-10 text-error")).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = StatCard("Monthly Budget", ui.FormatWithThousands(view.Budget.GrandTotal), "Total monthly expenses", IconCashBanknote("w-10 h-10")).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</div><div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\"><div class=\"card bg-base-100 shadow-sm border border-base-300\"><div class=\"card-body\"><h2 class=\"card-title\">Budget by Category</h2>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = BudgetCategoryTable(view.Budget.Categories, view.Budget.GrandTotal).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "</div></div><div class=\"card bg-base-100 shadow-sm border border-base-300\"><div class=\"card-body\"><h2 class=\"card-title\">Budget Breakdown</h2>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = BudgetPieChart("dashboard-budget-chart", view.Budget.ChartData, "340px").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</div></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if len(view.SnapshotHistoryChart.Dates) > 0 {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\"><div class=\"card bg-base-100 shadow-sm border border-base-300\"><div class=\"card-body\"><h2 class=\"card-title\">Balance history</h2><div id=\"dashboard-snapshot-history-chart\" style=\"width: 100%; height: 400px;\"></div></div></div><div class=\"card bg-base-100 shadow-sm border border-base-300\"><div class=\"card-body\"><h2 class=\"card-title\">Accounts by Type</h2><div id=\"dashboard-accounts-chart\" style=\"width: 100%; height: 400px;\"></div></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<div class=\"mt-6\"><div class=\"card bg-base-100 shadow-sm border border-base-300\"><div class=\"card-body\"><h2 class=\"card-title\">Accounts by Type</h2><div id=\"dashboard-accounts-chart\" style=\"width: 100%; height: 400px;\"></div></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = ItemsTooltipScript().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ.JSONScript("dashboard-accounts-data", view.AccountChartData).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ.JSONScript("dashboard-snapshot-history-data", view.SnapshotHistoryChart).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = DashboardChartsScript().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "</div></main>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func DashboardChartsScript() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<script type=\"text/javascript\">\n\t\t(function() {\n\t\t\tfunction themeColor(cssVar, fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tvar v = getComputedStyle(document.documentElement).getPropertyValue(cssVar).trim();\n\t\t\t\t\treturn v || fallback;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn fallback;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction getDashboardThemeOpts() {\n\t\t\t\tvar baseContent = themeColor('--color-base-content', '#333');\n\t\t\t\tvar baseBg = themeColor('--color-base-100', '#fff');\n\t\t\t\tvar tooltipBorder = themeColor('--color-base-300', '#ccc');\n\t\t\t\tvar textStyle = { color: baseContent, textBorderWidth: 0 };\n\t\t\t\treturn {\n\t\t\t\t\ttooltipBorder: tooltipBorder,\n\t\t\t\t\tbaseBg: baseBg,\n\t\t\t\t\tbaseContent: baseContent,\n\t\t\t\t\ttextStyle: textStyle,\n\t\t\t\t\taxisLabel: { color: baseContent, textBorderWidth: 0 }\n\t\t\t\t};\n\t\t\t}\n\t\t\tfunction formatThousands(val) {\n\t\t\t\tvar n = Math.round(val);\n\t\t\t\tvar neg = n < 0;\n\t\t\t\tvar s = Math.abs(n).toString();\n\t\t\t\tvar pre = s.length % 3 || 3;\n\t\t\t\tvar out = s.slice(0, pre);\n\t\t\t\tfor (var i = pre; i < s.length; i += 3) {\n\t\t\t\t\tout += ',' + s.slice(i, i + 3);\n\t\t\t\t}\n\t\t\t\treturn neg ? '-' + out : out;\n\t\t\t}\n\n\t\t\t// Accounts stacked bar chart\n\t\t\tvar accountsDom = document.getElementById('dashboard-accounts-chart');\n\t\t\tif (accountsDom) {\n\t\t\t\tvar accountsChart = echarts.init(accountsDom);\n\t\t\t\tvar accountsData = JSON.parse(document.getElementById('dashboard-accounts-data').textContent);\n\n\t\t\t\tfunction hexToHSL(hex) {\n\t\t\t\t\tvar r = parseInt(hex.slice(1, 3), 16) / 255;\n\t\t\t\t\tvar g = parseInt(hex.slice(3, 5), 16) / 255;\n\t\t\t\t\tvar b = parseInt(hex.slice(5, 7), 16) / 255;\n\t\t\t\t\tvar max = Math.max(r, g, b), min = Math.min(r, g, b);\n\t\t\t\t\tvar h, s, l = (max + min) / 2;\n\t\t\t\t\tif (max === min) { h = s = 0; }\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar d = max - min;\n\t\t\t\t\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\t\t\t\t\tif (max === r) h = ((g - b) / d + (g < b ? 6 : 0)) / 6;\n\t\t\t\t\t\telse if (max === g) h = ((b - r) / d + 2) / 6;\n\t\t\t\t\t\telse h = ((r - g) / d + 4) / 6;\n\t\t\t\t\t}\n\t\t\t\t\treturn [h * 360, s * 100, l * 100];\n\t\t\t\t}\n\n\t\t\t\tfunction hslToHex(h, s, l) {\n\t\t\t\t\ts /= 100; l /= 100;\n\t\t\t\t\tvar c = (1 - Math.abs(2 * l - 1)) * s;\n\t\t\t\t\tvar x = c * (1 - Math.abs((h / 60) % 2 - 1));\n\t\t\t\t\tvar m = l - c / 2;\n\t\t\t\t\tvar r, g, b;\n\t\t\t\t\tif (h < 60) { r = c; g = x; b = 0; }\n\t\t\t\t\telse if (h < 120) { r = x; g = c; b = 0; }\n\t\t\t\t\telse if (h < 180) { r = 0; g = c; b = x; }\n\t\t\t\t\telse if (h < 240) { r = 0; g = x; b = c; }\n\t\t\t\t\telse if (h < 300) { r = x; g = 0; b = c; }\n\t\t\t\t\telse { r = c; g = 0; b = x; }\n\t\t\t\t\treturn '#' + [r + m, g + m, b + m].map(function(v) {\n\t\t\t\t\t\treturn Math.round(v * 255).toString(16).padStart(2, '0');\n\t\t\t\t\t}).join('');\n\t\t\t\t}\n\n\t\t\t\tfunction shadeColor(hex, index, total) {\n\t\t\t\t\tvar hsl = hexToHSL(hex);\n\t\t\t\t\tif (total <= 1) return hex;\n\t\t\t\t\tvar range = 30;\n\t\t\t\t\tvar offset = -range / 2 + (range / (total - 1)) * index;\n\t\t\t\t\tvar newL = Math.max(15, Math.min(85, hsl[2] + offset));\n\t\t\t\t\treturn hslToHex(hsl[0], hsl[1], newL);\n\t\t\t\t}\n\n\t\t\t\tvar typeNames = accountsData.map(function(t) { return t.name; });\n\n\t\t\t\tvar series = [];\n\t\t\t\taccountsData.forEach(function(typeEntry) {\n\t\t\t\t\tvar n = typeEntry.accounts.length;\n\t\t\t\t\ttypeEntry.accounts.forEach(function(acc, i) {\n\t\t\t\t\t\tvar data = typeNames.map(function(tn) {\n\t\t\t\t\t\t\treturn tn === typeEntry.name ? acc.balance : 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tseries.push({\n\t\t\t\t\t\t\tname: acc.name,\n\t\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\t\tstack: 'total',\n\t\t\t\t\t\t\temphasis: { focus: 'series' },\n\t\t\t\t\t\t\titemStyle: { color: shadeColor(typeEntry.color, i, n) },\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tvar accountsTheme = getDashboardThemeOpts();\n\t\t\t\taccountsChart.setOption({\n\t\t\t\t\tbackgroundColor: accountsTheme.baseBg,\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\ttrigger: 'axis',\n\t\t\t\t\t\taxisPointer: { type: 'shadow' },\n\t\t\t\t\t\tbackgroundColor: accountsTheme.baseBg,\n\t\t\t\t\t\tborderColor: accountsTheme.tooltipBorder,\n\t\t\t\t\t\textraCssText: 'box-shadow: 0 2px 4px rgba(0,0,0,0.15);',\n\t\t\t\t\t\tformatter: function(params) {\n\t\t\t\t\t\t\tvar items = params.filter(function(p) { return p.value !== 0; });\n\t\t\t\t\t\t\tif (items.length === 0) return '';\n\t\t\t\t\t\t\tvar header = items[0].axisValue;\n\t\t\t\t\t\t\tvar total = items.reduce(function(sum, p) { return sum + p.value; }, 0);\n\t\t\t\t\t\t\tvar lines = items.map(function(p) {\n\t\t\t\t\t\t\t\treturn '<div style=\"display:flex;justify-content:space-between;gap:16px\">' +\n\t\t\t\t\t\t\t\t\t'<span>' + p.marker + ' ' + p.seriesName + '</span>' +\n\t\t\t\t\t\t\t\t\t'<span style=\"font-weight:500\">' + formatThousands(p.value) + '</span></div>';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar totalLine = '<div style=\"display:flex;justify-content:space-between;gap:16px;border-top:1px solid ' + accountsTheme.tooltipBorder + ';margin-top:4px;padding-top:4px\">' +\n\t\t\t\t\t\t\t\t'<span>Total</span><span style=\"font-weight:700\">' + formatThousands(total) + '</span></div>';\n\t\t\t\t\t\t\treturn header + '<br/>' + lines.join('') + totalLine;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tleft: '3%',\n\t\t\t\t\t\tright: '4%',\n\t\t\t\t\t\tbottom: '3%',\n\t\t\t\t\t\tcontainLabel: true\n\t\t\t\t\t},\n\t\t\t\t\txAxis: {\n\t\t\t\t\t\ttype: 'category',\n\t\t\t\t\t\tdata: typeNames,\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\trotate: 30,\n\t\t\t\t\t\t\toverflow: 'truncate',\n\t\t\t\t\t\t\tcolor: accountsTheme.baseContent,\n\t\t\t\t\t\t\ttextBorderWidth: 0\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tyAxis: {\n\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\taxisLabel: accountsTheme.axisLabel\n\t\t\t\t\t},\n\t\t\t\t\tseries: series\n\t\t\t\t});\n\t\t\t\twindow.addEventListener('resize', function() { accountsChart.resize(); });\n\t\t\t\twindow.addEventListener('themechange', function() {\n\t\t\t\t\tvar o = getDashboardThemeOpts();\n\t\t\t\t\taccountsChart.setOption({\n\t\t\t\t\t\tbackgroundColor: o.baseBg,\n\t\t\t\t\t\ttooltip: { backgroundColor: o.baseBg, borderColor: o.tooltipBorder },\n\t\t\t\t\t\txAxis: { axisLabel: { rotate: 30, overflow: 'truncate', color: o.baseContent, textBorderWidth: 0 } },\n\t\t\t\t\t\tyAxis: { axisLabel: o.axisLabel },\n\t\t\t\t\t});\n\t\t\t\t\taccountsChart.resize();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Snapshot history stacked bar chart (assets stack above 0, liabilities below)\n\t\t\tvar historyDom = document.getElementById('dashboard-snapshot-history-chart');\n\t\t\tvar historyDataEl = document.getElementById('dashboard-snapshot-history-data');\n\t\t\tif (historyDom && historyDataEl) {\n\t\t\t\tvar historyData = JSON.parse(historyDataEl.textContent);\n\t\t\t\tif (historyData.dates && historyData.dates.length > 0) {\n\t\t\t\t\tvar historyChart = echarts.init(historyDom);\n\t\t\t\t\tvar rawSeries = (historyData.series || []).map(function(s) {\n\t\t\t\t\t\tvar data = (s.data || []).map(function(v) { return Number(v); });\n\t\t\t\t\t\tvar hasPositive = data.some(function(v) { return v > 0; });\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: s.name,\n\t\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\t\tstack: 'total',\n\t\t\t\t\t\t\t_isPositive: hasPositive,\n\t\t\t\t\t\t\temphasis: { focus: 'series' },\n\t\t\t\t\t\t\titemStyle: { color: s.color },\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\t// Single bar per month: positive segments first (stack up), then negative (stack down)\n\t\t\t\t\tvar historySeries = rawSeries.sort(function(a, b) {\n\t\t\t\t\t\treturn (a._isPositive && !b._isPositive) ? -1 : (!a._isPositive && b._isPositive) ? 1 : 0;\n\t\t\t\t\t}).map(function(s) {\n\t\t\t\t\t\tvar o = { name: s.name, type: 'bar', stack: 'total', emphasis: s.emphasis, itemStyle: s.itemStyle, data: s.data };\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t});\n\t\t\t\t\tvar historyTheme = getDashboardThemeOpts();\n\t\t\t\t\thistoryChart.setOption({\n\t\t\t\t\t\tbackgroundColor: historyTheme.baseBg,\n\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\ttrigger: 'axis',\n\t\t\t\t\t\t\taxisPointer: { type: 'shadow' },\n\t\t\t\t\t\t\tbackgroundColor: historyTheme.baseBg,\n\t\t\t\t\t\t\tborderColor: historyTheme.tooltipBorder,\n\t\t\t\t\t\t\textraCssText: 'box-shadow: 0 2px 4px rgba(0,0,0,0.15);',\n\t\t\t\t\t\t\tformatter: function(params) {\n\t\t\t\t\t\t\t\tvar items = params.filter(function(p) { return p.value !== 0 && p.value !== null; });\n\t\t\t\t\t\t\t\tif (items.length === 0) return params[0] ? params[0].axisValue : '';\n\t\t\t\t\t\t\t\titems.sort(function(a, b) { return b.value - a.value; });\n\t\t\t\t\t\t\t\tvar header = params[0].axisValue;\n\t\t\t\t\t\t\t\tvar total = items.reduce(function(sum, p) { return sum + p.value; }, 0);\n\t\t\t\t\t\t\t\tvar lines = items.map(function(p) {\n\t\t\t\t\t\t\t\t\treturn '<div style=\"display:flex;justify-content:space-between;gap:16px\">' +\n\t\t\t\t\t\t\t\t\t\t'<span>' + p.marker + ' ' + p.seriesName + '</span>' +\n\t\t\t\t\t\t\t\t\t\t'<span style=\"font-weight:500\">' + formatThousands(p.value) + '</span></div>';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar totalLine = '<div style=\"display:flex;justify-content:space-between;gap:16px;border-top:1px solid ' + historyTheme.tooltipBorder + ';margin-top:4px;padding-top:4px\">' +\n\t\t\t\t\t\t\t\t\t'<span>Total</span><span style=\"font-weight:700\">' + formatThousands(total) + '</span></div>';\n\t\t\t\t\t\t\t\treturn header + '<br/>' + lines.join('') + totalLine;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\ttype: 'scroll',\n\t\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\t\ttextStyle: historyTheme.textStyle\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgrid: {\n\t\t\t\t\t\t\tleft: '3%',\n\t\t\t\t\t\t\tright: '4%',\n\t\t\t\t\t\t\tbottom: '15%',\n\t\t\t\t\t\t\tcontainLabel: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\txAxis: {\n\t\t\t\t\t\t\ttype: 'category',\n\t\t\t\t\t\t\tdata: historyData.dates,\n\t\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\t\tinterval: 1,\n\t\t\t\t\t\t\t\trotate: 45,\n\t\t\t\t\t\t\t\toverflow: 'truncate',\n\t\t\t\t\t\t\t\tcolor: historyTheme.baseContent,\n\t\t\t\t\t\t\t\ttextBorderWidth: 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tyAxis: {\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\taxisLabel: historyTheme.axisLabel\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseries: historySeries,\n\t\t\t\t\t\tbarCategoryGap: '40%'\n\t\t\t\t\t});\n\t\t\t\t\twindow.addEventListener('resize', function() { historyChart.resize(); });\n\t\t\t\t\twindow.addEventListener('themechange', function() {\n\t\t\t\t\t\tvar o = getDashboardThemeOpts();\n\t\t\t\t\t\thistoryChart.setOption({\n\t\t\t\t\t\t\tbackgroundColor: o.baseBg,\n\t\t\t\t\t\t\ttooltip: { backgroundColor: o.baseBg, borderColor: o.tooltipBorder },\n\t\t\t\t\t\t\txAxis: { axisLabel: { interval: 1, rotate: 45, overflow: 'truncate', color: o.baseContent, textBorderWidth: 0 } },\n\t\t\t\t\t\t\tyAxis: { axisLabel: o.axisLabel },\n\t\t\t\t\t\t\tlegend: { textStyle: o.textStyle }\n\t\t\t\t\t\t});\n\t\t\t\t\t\thistoryChart.resize();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t})();\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
